<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Video Center!{% endblock %}</title>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

    {{ vite_entry_link_tags('app') }}

    {% block stylesheets %}{% endblock %}

    {% block javascripts %}
        {{ vite_entry_script_tags('app', {
            dependency: 'react'
        }) }}
        {% block importmap %}{{ importmap('app') }}{% endblock %}
    {% endblock %}
</head>
<body
    style="
    {% if body is defined %}
        --color: {{ body.color }};
        --color-primary: {{ body.primary }};
    {% else %}
        --color: #081c56;
        --color-primary: #2e4574;
    {% endif %}
    {% if hero is defined %}
        --hero-figure: url('{{ hero.figure }}');
    {% endif %}
        "
    class="hero"
>
<header class="header container {% if hero is defined %}hero shadow{% else %}bordered{% endif %}">
    <nav class="navbar">
        <a href="{{ path('app_home') }}" class="header-logo">
            <span
                class="hl">{% if app.user %}{{ app.user.firstname | first }}{{ app.user.lastname | first }}{% else %}My{% endif %}</span>
            <span>Hit</span>
        </a>

        <ul class="header-primary-nav">
            {% block navPrimary %}
                {% if app.user %}
                    <li>
                        <a href="{{ path('app_video_create') }}">
                            <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                      d="M2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12ZM12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20C14.1217 20 16.1566 19.1571 17.6569 17.6569C19.1571 16.1566 20 14.1217 20 12C20 9.87827 19.1571 7.84344 17.6569 6.34315C16.1566 4.84285 14.1217 4 12 4Z"
                                      fill="currentColor"></path>
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                      d="M13 7C13 6.73478 12.8946 6.48043 12.7071 6.29289C12.5196 6.10536 12.2652 6 12 6C11.7348 6 11.4804 6.10536 11.2929 6.29289C11.1054 6.48043 11 6.73478 11 7V11H7C6.73478 11 6.48043 11.1054 6.29289 11.2929C6.10536 11.4804 6 11.7348 6 12C6 12.2652 6.10536 12.5196 6.29289 12.7071C6.48043 12.8946 6.73478 13 7 13H11V17C11 17.2652 11.1054 17.5196 11.2929 17.7071C11.4804 17.8946 11.7348 18 12 18C12.2652 18 12.5196 17.8946 12.7071 17.7071C12.8946 17.5196 13 17.2652 13 17V13H17C17.2652 13 17.5196 12.8946 17.7071 12.7071C17.8946 12.5196 18 12.2652 18 12C18 11.7348 17.8946 11.4804 17.7071 11.2929C17.5196 11.1054 17.2652 11 17 11H13V7Z"
                                      fill="currentColor"></path>
                            </svg>

                            {{ 'video.add' | trans }}
                        </a>
                    </li>
                {% endif %}
            {% endblock %}
        </ul>

        <ul>
            {% block navSecondary %}{% endblock %}

            {% if app.user %}
                <li>
                    <a href="{{ path('app_account_me') }}">
                        <img
                            src="{{ vich_uploader_asset(app.user, 'imageFile') }}"
                            alt="{{ app.user.firstname }} {{ app.user.lastname }} Avatar"
                            width="32"
                            height="32"
                        >
                        {{ app.user.firstname }} {{ app.user.lastname }}
                    </a>
                </li>
                <li>
                    <a href="{{ path('app_logout') }}">
                        <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M5 21C4.45 21 3.97933 20.8043 3.588 20.413C3.19667 20.0217 3.00067 19.5507 3 19V5C3 4.45 3.196 3.97933 3.588 3.588C3.98 3.19667 4.45067 3.00067 5 3H12V5H5V19H12V21H5ZM16 17L14.625 15.55L17.175 13H9V11H17.175L14.625 8.45L16 7L21 12L16 17Z"
                                fill="currentColor"></path>
                        </svg>

                        {{ 'auth.logout' | trans }}
                    </a>
                </li>
            {% else %}
                <li>
                    <a href="{{ path('app_login') }}">
                        <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M11 7L9.6 8.4L12.2 11H2V13H12.2L9.6 15.6L11 17L16 12L11 7ZM20 19H12V21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3H12V5H20V19Z"
                                fill="currentColor"></path>
                        </svg>

                        {{ 'auth.login' | trans }}
                    </a>
                </li>
            {% endif %}

            <li>
                <details class="dropdown">
                    <summary>
                        <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M11.9 22L16.45 10H18.55L23.1 22H21L19.925 18.95H15.075L14 22H11.9ZM4 19L2.6 17.6L7.65 12.55C7.06667 11.9667 6.53733 11.3 6.062 10.55C5.58667 9.8 5.14933 8.95 4.75 8H6.85C7.18333 8.65 7.51667 9.21667 7.85 9.7C8.18333 10.1833 8.58333 10.6667 9.05 11.15C9.6 10.6 10.171 9.829 10.763 8.837C11.355 7.845 11.8007 6.89933 12.1 6H1V4H8V2H10V4H17V6H14.1C13.75 7.2 13.225 8.43333 12.525 9.7C11.825 10.9667 11.1333 11.9333 10.45 12.6L12.85 15.05L12.1 17.1L9.05 13.975L4 19ZM15.7 17.2H19.3L17.5 12.1L15.7 17.2Z"
                                fill="currentColor"></path>
                        </svg>
                    </summary>

                    <ol class="dropmenu">
                        <li>
                            <a href="{{ path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')|merge({'_locale': 'fr'})) }}">
                                <svg width="24" height="24" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="#ED2939" d="M36 27a4 4 0 0 1-4 4h-8V5h8a4 4 0 0 1 4 4z"></path>
                                    <path fill="#002495" d="M4 5a4 4 0 0 0-4 4v18a4 4 0 0 0 4 4h8V5z"></path>
                                    <path fill="#EEE" d="M12 5h12v26H12z"></path>
                                </svg>
                            </a>
                        </li>

                        <li>
                            <a href="{{ path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')|merge({'_locale': 'ja'})) }}">
                                <svg width="24" height="24" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="#E8E8E8"
                                          d="M494.661 425.149c-159.52-37.139-319.04 45.468-478.559 8.329C7.209 431.416 0 422.098 0 413.212V98.788C0 89.89 7.209 84.79 16.101 86.851c159.52 37.139 319.04-45.468 478.559-8.329c8.892 2.061 16.101 11.379 16.101 20.266v314.424c.001 8.898-7.208 13.998-16.1 11.937"></path>
                                    <circle cx="255.381" cy="256" r="92.048" fill="#FF473E"></circle>
                                </svg>
                            </a>
                        </li>
                    </ol>
                </details>
            </li>
        </ul>
    </nav>

    {% include 'partials/_hero.html.twig' %}
</header>

<main class="container {% if hero is defined %}shadow{% endif %}">
    {% include 'partials/_flashes.html.twig' %}

    {% block body %}{% endblock %}
</main>
</body>
</html>
